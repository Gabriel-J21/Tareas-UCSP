<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Multiples Tareas</title>
    <style>
      li.checked {
        text-decoration: line-through;
      }
    </style>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const nuevaTareaForm = document.querySelector('#Nueva-Tarea');
        const tareasList = document.querySelector('#tareas');

        nuevaTareaForm.addEventListener('submit', (e) => {
          e.preventDefault();
          const tareaInput = document.querySelector('#tarea');
          const tareaText = document.createTextNode(tareaInput.value);
          tareaInput.value = '';

          const cb = document.createElement('input');
          cb.type = 'checkbox';

          const li = document.createElement('li');
          li.appendChild(cb);
          li.appendChild(tareaText);

          const button = document.createElement('button');
          button.innerHTML = 'Eliminar';
          button.onclick = () => {
            li.remove();
          };
          li.appendChild(button);

          tareasList.appendChild(li);

          cb.addEventListener('change', () => {
            li.classList.toggle('checked', cb.checked);
          });
        });

        document.querySelector('#mark-all').onclick = () => {
          const checkboxes = document.querySelectorAll('#tareas input[type="checkbox"]');
          for (let i = 0; i < checkboxes.length; i++) {
            checkboxes[i].checked = true;
            const text = checkboxes[i].parentNode;
            text.classList.add('checked');
          }
        };
      });
    </script>
  </head>
  <body>
    <h1>Tareas Pendientes</h1>
    <form id="Nueva-Tarea">
      <input id="tarea" autocomplete="off" autofocus placeholder="Nueva Tarea" type="text">
      <input type="submit">
    </form>
    <button id="mark-all">Marcar todas</button>
    <ol id="tareas">
    </ol>
  </body>
</html>
